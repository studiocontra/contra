<template>
  <div class="hero-home js-hero-home">
    <Shapes>
      <div class="shape red"></div>
    </Shapes>

    <div class="container">
      <div class="hero__logo">
        <div class="line js-line-1"></div>
        <svg viewBox="0 0 68 334" class="logo">
          <path d="M67.9953 305.687C67.9953 310.655 67.0085 315.262 65.0407 319.501C63.0729 323.741 60.0725 327.149 56.0451 329.719C52.0178 332.289 47.0037 333.574 41.0085 333.574C35.0937 333.402 30.0853 332.077 25.9719 329.592C21.8585 327.108 18.6917 323.769 16.46 319.57C14.2341 315.371 13.1211 310.701 13.1211 305.56C13.1211 299.565 14.2972 294.574 16.6551 290.587C19.013 286.605 21.9273 283.605 25.3925 281.591C28.8633 279.578 32.3227 278.574 35.7764 278.574L35.7764 294.895C30.7795 295.75 28.2839 299.095 28.2839 304.918C28.2839 308.773 29.3338 311.601 31.4335 313.403C33.5332 315.204 36.2124 316.099 39.4653 316.099C43.4926 316.099 46.7053 315.198 49.1091 313.403C51.5129 311.607 52.7062 308.693 52.7062 304.665C52.7062 302.353 52.0637 300.254 50.7786 298.366C49.4935 296.484 47.3766 295.326 44.4392 294.895L44.4392 278.574C48.2371 278.574 51.9375 279.583 55.5345 281.591C59.1316 283.605 62.1091 286.628 64.467 290.65C66.8249 294.677 68.001 299.691 68.001 305.687L67.9953 305.687Z" />
          <path d="M67.9937 243.997C67.9937 250.251 66.8176 255.483 64.4597 259.677C62.1018 263.876 58.8661 267.003 54.7585 269.056C50.6451 271.11 45.9752 272.143 40.7488 272.143C35.4363 272.229 30.7435 271.242 26.676 269.188C22.6085 267.135 19.3958 263.985 17.0379 259.74C14.68 255.5 13.5039 250.251 13.5039 243.997C13.5039 234.83 15.988 227.865 20.9562 223.115C25.9244 218.359 32.522 215.984 40.7488 215.984C45.8891 215.984 50.5188 216.993 54.6265 219.001C58.7399 221.015 61.9985 224.079 64.3966 228.192C66.7946 232.305 67.9937 237.572 67.9937 244.003L67.9937 243.997ZM53.0833 243.997C53.0833 240.831 52.4407 238.473 51.1556 236.929C49.8706 235.386 48.2241 234.382 46.2046 233.912C44.191 233.441 42.1543 233.206 40.1005 233.206C38.0467 233.206 35.901 233.441 33.9333 233.912C31.9655 234.382 30.3362 235.392 29.0511 236.929C27.766 238.473 27.1235 240.831 27.1235 243.997C27.1235 247.164 27.766 249.545 29.0511 251.128C30.3362 252.718 31.9655 253.745 33.9333 254.215C35.9068 254.685 37.9606 254.921 40.1005 254.921C42.2404 254.921 44.191 254.685 46.2046 254.215C48.2183 253.745 49.8648 252.718 51.1556 251.128C52.4407 249.545 53.0833 247.164 53.0833 243.997Z" />
          <path d="M66.7104 207.624L13.5 207.624L13.5 192.071L23.0119 189.116L23.2701 188.858C21.3023 187.917 19.673 186.844 18.3879 185.645C17.1028 184.446 15.9669 182.754 14.9801 180.568C13.9934 178.382 13.5 175.577 13.5 172.152C13.5 168.297 14.1884 165.193 15.5538 162.835C16.925 160.477 18.7034 158.682 20.8892 157.437C23.075 156.197 25.4329 155.36 27.9572 154.93C30.4872 154.499 32.9254 154.264 35.2833 154.224C37.6412 154.184 39.6319 154.161 41.2612 154.161L66.7104 154.161L66.7104 171.641L41.135 171.641C39.2533 171.641 37.406 171.79 35.6103 172.089C33.8089 172.393 32.2484 173.139 30.9174 174.338C29.5922 175.537 28.9267 177.596 28.9267 180.505C28.9267 183.414 29.5922 185.347 30.9174 186.546C32.2484 187.745 33.8089 188.474 35.6103 188.732C37.4117 188.99 39.2533 189.116 41.135 189.116L66.7104 189.116L66.7104 207.624Z" />
          <path d="M66.7095 123.566C66.7095 128.706 65.5105 132.779 63.1124 135.774C60.7144 138.774 56.3428 140.272 50.0034 140.272L25.7131 140.272L25.7131 147.724L13.4991 147.724C13.4991 145.67 13.2008 143.892 12.5984 142.389C12.0017 140.891 10.7339 139.733 8.80625 138.918C6.87863 138.103 3.94704 137.696 -4.38347e-07 137.696L-1.05625e-06 123.56L13.4991 123.56L13.4991 111.61L25.7074 111.61L25.7074 123.56L52.9522 123.56L52.9522 111.22L66.7038 111.22L66.7038 123.56L66.7095 123.566Z" />
          <path d="M66.7104 102.236L13.5 102.236L13.5 85.2721L28.6685 84.1133C26.4426 83.5969 24.1478 82.6159 21.7899 81.1587C19.432 79.7015 17.4642 77.6018 15.8751 74.8595C14.2917 72.1172 13.5 68.5202 13.5 64.0625L13.5 62.9037L33.4245 62.9037L33.4245 64.1887C33.4245 68.4743 33.6827 72.1172 34.1933 75.1119C34.7096 78.1124 35.7996 80.3842 37.4691 81.9217C39.1385 83.465 41.8177 84.2337 45.5008 84.2337L66.7047 84.2337L66.7047 102.225L66.7104 102.236Z" />
          <path d="M67.9934 36.2999C67.9934 43.5858 65.5724 48.6172 60.7304 51.3996C55.8884 54.1878 49.3138 55.5761 41.001 55.5761C35.4304 55.5761 30.5884 54.9795 26.475 53.7747C22.3615 52.5757 19.1718 50.562 16.8999 47.7337C14.6281 44.9054 13.4922 41.096 13.4922 36.2942C13.4922 32.7831 13.9856 29.9318 14.9723 27.746C15.9591 25.5603 17.095 23.8679 18.3801 22.6688C19.6652 21.4698 21.2945 20.4429 23.2622 19.5823L23.2622 19.3242L13.4979 19.3242L13.4979 0.816692L66.7083 0.81669L66.7083 16.4959L59.5084 19.3242L59.5084 19.5823C59.5084 19.4963 59.9387 19.7086 60.7935 20.2249C61.6483 20.7412 62.6351 21.619 63.7481 22.8582C64.861 24.1031 65.8478 25.8127 66.7026 27.9985C67.5574 30.1843 67.9877 32.9495 67.9877 36.2884L67.9934 36.2999ZM53.215 28.7156C53.215 25.8012 52.6355 23.6843 51.4824 22.3533C50.3235 21.0281 48.8032 20.1905 46.9215 19.8463C45.0398 19.502 43.1122 19.3299 41.1387 19.3299C39.1651 19.3299 37.1342 19.502 35.2927 19.8463C33.4511 20.1905 31.971 21.0223 30.858 22.3533C29.745 23.6843 29.1885 25.8012 29.1885 28.7156C29.1885 31.63 29.768 33.7527 30.9211 35.0779C32.08 36.4089 33.5544 37.2408 35.3558 37.585C37.1572 37.9292 39.0848 38.1013 41.1387 38.1013C43.1925 38.1013 45.1431 37.9292 46.9846 37.585C48.8262 37.2465 50.3235 36.4089 51.4824 35.0779C52.6413 33.7527 53.215 31.63 53.215 28.7156Z" />
        </svg>

        <div class="arrow" @click="scrollDown">
          <svg viewBox="0 0 18 15">
            <path d="M9.59961 1.2L15.9996 7.6L9.59961 14" />
            <path d="M0 7.59979L10.5143 7.59979" />
          </svg>
        </div>
      </div>

      <div class="hero__content">
        <h1 class="title title--big" v-html="data.headline"></h1>

        <Link
          link="/about"
          text="Know about us" />
      </div>
    </div>

    <div class="hero__items">
      <div class="line js-line-2"></div>
      <div class="container">
        <div class="arrow" @click="scrollDown">
          <svg viewBox="0 0 18 15">
            <path d="M9.59961 1.2L15.9996 7.6L9.59961 14" />
            <path d="M0 7.59979L10.5143 7.59979" />
          </svg>
        </div>

        <div
          v-if="data.items"
          class="wrap-items">
          <div
            v-for="(item, idx) in data.items"
            :key="idx"
            :class="`item item--${idx + 1}`"
            v-html="item.content"></div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { gsap } from 'gsap';
import { ScrollTrigger } from 'gsap/ScrollTrigger';

gsap.registerPlugin(ScrollTrigger);

export default {
  name: 'MainHero',
  props: {
    data: {
      type: Object,
      default: () => {}
    }
  },
  data() {
    return {
      linesTl: null,
      line2Tl: null,
    };
  },
  mounted() {
    setTimeout(() => {
      this.linesTl = gsap.timeline({
        scrollTrigger: {
          trigger: '.js-hero-home',
          start: '50px top',
          end: '+=50%',
          scrub: 0.3,
        }
      })
      .to('.js-line-1', {
        height: 0,
      })
      .to('.js-line-2', {
        width: 0,
      }, '<');
    }, 750);

    window.addEventListener('resize', () => {
      this.linesTl.scrollTrigger.refresh();
    })
  },
  beforeDestroy() {
    this.linesTl.kill();
  },
  methods: {
    scrollDown(){
      const target = window.innerHeight * 0.9;

      window.scroll({
        top: target,
        behavior: 'smooth'
      });
    }
  }
}
</script>

<style lang="scss" scoped>
  @import "@/assets/scss/home/hero";
</style>
